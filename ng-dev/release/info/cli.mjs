"use strict";
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.ReleaseInfoCommandModule = void 0;
const git_client_1 = require("../../utils/git/git-client");
const index_1 = require("../config/index");
const active_release_trains_1 = require("../versioning/active-release-trains");
const print_active_trains_1 = require("../versioning/print-active-trains");
/** Yargs command handler for printing release information. */
async function handler() {
    const git = git_client_1.GitClient.get();
    const gitRepoWithApi = { api: git.github, ...git.remoteConfig };
    const releaseTrains = await active_release_trains_1.fetchActiveReleaseTrains(gitRepoWithApi);
    // Print the active release trains.
    await print_active_trains_1.printActiveReleaseTrains(releaseTrains, index_1.getReleaseConfig());
}
/** CLI command module for retrieving release information. */
exports.ReleaseInfoCommandModule = {
    handler,
    command: 'info',
    describe: 'Prints active release trains to the console.',
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vbmctZGV2L3JlbGVhc2UvaW5mby9jbGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7R0FNRzs7O0FBS0gsMkRBQXFEO0FBQ3JELDJDQUFpRDtBQUNqRCwrRUFBNkU7QUFDN0UsMkVBQTJFO0FBRTNFLDhEQUE4RDtBQUM5RCxLQUFLLFVBQVUsT0FBTztJQUNwQixNQUFNLEdBQUcsR0FBRyxzQkFBUyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQzVCLE1BQU0sY0FBYyxHQUFHLEVBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsWUFBWSxFQUFDLENBQUM7SUFDOUQsTUFBTSxhQUFhLEdBQUcsTUFBTSxnREFBd0IsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUVyRSxtQ0FBbUM7SUFDbkMsTUFBTSw4Q0FBd0IsQ0FBQyxhQUFhLEVBQUUsd0JBQWdCLEVBQUUsQ0FBQyxDQUFDO0FBQ3BFLENBQUM7QUFFRCw2REFBNkQ7QUFDaEQsUUFBQSx3QkFBd0IsR0FBa0I7SUFDckQsT0FBTztJQUNQLE9BQU8sRUFBRSxNQUFNO0lBQ2YsUUFBUSxFQUFFLDhDQUE4QztDQUN6RCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbmltcG9ydCB7Q29tbWFuZE1vZHVsZX0gZnJvbSAneWFyZ3MnO1xuXG5pbXBvcnQge2luZm99IGZyb20gJy4uLy4uL3V0aWxzL2NvbnNvbGUnO1xuaW1wb3J0IHtHaXRDbGllbnR9IGZyb20gJy4uLy4uL3V0aWxzL2dpdC9naXQtY2xpZW50JztcbmltcG9ydCB7Z2V0UmVsZWFzZUNvbmZpZ30gZnJvbSAnLi4vY29uZmlnL2luZGV4JztcbmltcG9ydCB7ZmV0Y2hBY3RpdmVSZWxlYXNlVHJhaW5zfSBmcm9tICcuLi92ZXJzaW9uaW5nL2FjdGl2ZS1yZWxlYXNlLXRyYWlucyc7XG5pbXBvcnQge3ByaW50QWN0aXZlUmVsZWFzZVRyYWluc30gZnJvbSAnLi4vdmVyc2lvbmluZy9wcmludC1hY3RpdmUtdHJhaW5zJztcblxuLyoqIFlhcmdzIGNvbW1hbmQgaGFuZGxlciBmb3IgcHJpbnRpbmcgcmVsZWFzZSBpbmZvcm1hdGlvbi4gKi9cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gIGNvbnN0IGdpdCA9IEdpdENsaWVudC5nZXQoKTtcbiAgY29uc3QgZ2l0UmVwb1dpdGhBcGkgPSB7YXBpOiBnaXQuZ2l0aHViLCAuLi5naXQucmVtb3RlQ29uZmlnfTtcbiAgY29uc3QgcmVsZWFzZVRyYWlucyA9IGF3YWl0IGZldGNoQWN0aXZlUmVsZWFzZVRyYWlucyhnaXRSZXBvV2l0aEFwaSk7XG5cbiAgLy8gUHJpbnQgdGhlIGFjdGl2ZSByZWxlYXNlIHRyYWlucy5cbiAgYXdhaXQgcHJpbnRBY3RpdmVSZWxlYXNlVHJhaW5zKHJlbGVhc2VUcmFpbnMsIGdldFJlbGVhc2VDb25maWcoKSk7XG59XG5cbi8qKiBDTEkgY29tbWFuZCBtb2R1bGUgZm9yIHJldHJpZXZpbmcgcmVsZWFzZSBpbmZvcm1hdGlvbi4gKi9cbmV4cG9ydCBjb25zdCBSZWxlYXNlSW5mb0NvbW1hbmRNb2R1bGU6IENvbW1hbmRNb2R1bGUgPSB7XG4gIGhhbmRsZXIsXG4gIGNvbW1hbmQ6ICdpbmZvJyxcbiAgZGVzY3JpYmU6ICdQcmludHMgYWN0aXZlIHJlbGVhc2UgdHJhaW5zIHRvIHRoZSBjb25zb2xlLicsXG59O1xuIl19